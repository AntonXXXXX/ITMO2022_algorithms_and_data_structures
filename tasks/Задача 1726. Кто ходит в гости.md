#### <div align="center"> [1726. Кто ходит в гости](https://acm.timus.ru/problem.aspx?space=1&num=1726) </div>

>Ограничение времени: 1.0 секунды
>Ограничение памяти: 64 МБ

###### Условие:

> Программный комитет школьных соревнований по программированию, проходящих в УрГУ — многочисленная, весёлая и дружная команда. Дружная настолько, что общения в университете им явно не хватает, поэтому они часто ходят друг к другу в гости. Все ребята в программном комитете очень спортивные и ходят только пешком.
>
> Однажды хранитель традиций олимпиадного движения УрГУ подумал, что на пешие прогулки от дома к дому члены программного комитета тратят слишком много времени, которое могли бы вместо этого потратить на придумывание и подготовку задач. Чтобы доказать это, он решил посчитать, какое расстояние в среднем преодолевают члены комитета, когда ходят друг к другу в гости. Хранитель традиций достал карту Екатеринбурга, нашёл на ней дома всех членов программного комитета и выписал их координаты. Но координат оказалось так много, что хранитель не смог справиться с этой задачей самостоятельно и попросил вас помочь ему.
>
> Город Екатеринбург представляет собой прямоугольник со сторонами, ориентированными по сторонам света. Все улицы города идут строго с запада на восток или с севера на юг, проходя через весь город от края до края. Дома всех членов программного комитета расположены строго на пересечении каких-то двух перпендикулярных улиц. Известно, что все члены комитета ходят только по улицам, поскольку идти по тротуару гораздо приятнее, чем по дворовым тропинкам. И, конечно, при переходе от дома к дому они всегда выбирают кратчайший путь. Программный комитет очень дружный, и все его члены ходят в гости ко всем одинаково часто.

###### Исходные данные:

> Первая строка содержит целое число *n* — количество членов программного комитета (2 ≤ *n* ≤ 10^5). В *i*-й из следующих *n* строк через пробел записаны целые числа *xi*, *yi* — координаты дома *i*-го члена программного комитета (1 ≤ *xi*, *yi* ≤ 10^6).

###### Результат:

> Выведите среднее расстояние, которое проходит член программного комитета от своего дома до дома своего товарища, округлённое вниз до целых.

| Исходные данные       | Результат |
| --------------------- | --------- |
| `3 10 10 20 20 10 20` | `13`      |

###### Интерпретация задачи:

>  Рассчитать сумму всех расстояний пройденных между зданиями и найти среднее значение расстояния между двумя домами при условии перемещения по кратчайшим путям и наличии пути от каждого дома к каждому дому

###### Описание алгоритма:

>  Независимо сортируем массивы по возрастанию, находим разность координат и находим путь между двумя ближайшими домами. Находим количество перемещений из начального дома в дома с большими (n-i) координатами и в дома с меньшими (i) и умножим на два так как всегда будет возврат в начальную точку. Усредняем (делим на количество дорожек) и получаем результат.

###### Реализация:

```cpp
#include <iostream>
#include <vector>
using namespace std;

void quicksort(vector<int> &vec, int L, int R) { // Стандартный алгоритм быстрой сортировки Хоара для динамического масиива
    int i = L, j = R, mid = L + (R - L) / 2, piv = vec[mid];
    while (i<R || j>L) {
        while (vec[i] < piv) i++;
        while (vec[j] > piv) j--;
        if (i <= j) {
            int temp = vec[i]; vec[i] = vec[j]; vec[j] = temp; // Swap
            i++; j--;
        } else {
            if (i < R) quicksort(vec, i, R);
            if (j > L) quicksort(vec, L, j);
            return;
        }
    }
}

int main() {
    long long n, sum = 0;
    cin >> n; // Считываем количество домов
    vector<int> xCoords(n); vector<int> yCoords(n); // Массив координат
    for (long long i = 0; i < n; i++) cin >> xCoords[i] >> yCoords[i]; // Записываем координаты в массивы
    quicksort(xCoords, 0, n-1); quicksort(yCoords, 0, n-1); // Сортируем координаты по возрастанию что бы работать только с положительными числами
    for (long long i = 1; i < n; i++) { // Суммируем координаты
        int dX = xCoords[i] - xCoords[i - 1], dY = yCoords[i] - yCoords[i - 1]; // Рассчет расстояния в координатах до соседнего дома
        sum += (dX + dY) * i * (n - i) * 2; // Сумма расстояний, пройденных по участку дороги dX+dY (в сторону больших (n-i) и в сторону меньших (i) координат). Дважды так как должен быть путь обратно к себе домой
    }
    sum = sum / (n * (n - 1)); // Считаем среднее значение пути
    cout << sum << endl; // Выводим результат
    return 0;
}
```

###### Подтверждение выполнения:

![image-20220213045323792](C:\Users\User\AppData\Roaming\Typora\typora-user-images\image-20220213045323792.png)

###### Комментарий к программе:

>  Сортировка координат позволяет найти именно кратчайшие расстояния от здания к зданию максимально простым способом. В качестве алгоритма сортировки был взят алгоритм быстрой сортировки Хоара. Так же сортировка позволяет избежать наличия отрицательных векторов, которые усложнят реализацию.  Так же мы можем разделить массив координат на два не связанных массива так как все равно перемещение происходит по кратчайшим x и y -> независимо.
