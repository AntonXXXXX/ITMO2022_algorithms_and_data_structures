#### <div align="center"> [Задача 1450. Российские газопроводы](https://acm.timus.ru/problem.aspx?space=1&num=1450) </div>

>Ограничение времени: 0.5 секунды
>Ограничение памяти: 64 МБ

###### Условие:

> Большими неприятностями обернулся прошедший год для Государства Российского. То неурожай, то птичий грипп, то вечные споры хозяйствующих субъектов... A тут ещё и Президент задумал, наконец, собрать средства на покупку новой балалайки и ручного медведя для своего двоюродного племянника. Все эти факторы (в особенности, конечно, последний) сильно ударили по экономике государства. Посовещавшись со своими друзьями в валенках и ушанках, Президент решил воспользоваться традиционным методом укрепления национального бюджета - увеличением налога на транспортировку газа.
>
> Сеть российских газопроводов представляет собой N перекачивающих станций, некоторые из которых соединены газопроводами. Для каждого из M газопроводов известны номера станций A[i] и B[i], которые он соединяет, и его прибыльность C[i], т.е. то количество долларов, которое будет ежесуточно приносить в виде налогов перекачка газа по этому газопроводу. Каждая пара станций соединена не более чем одним газопроводом.
>
> Сеть была построена советскими инженерами, которые точно знали, что газ поставляется из месторождений Украины в Сибирь, а не наоборот. Поэтому все газопроводы являются однонаправленными, т.е. для каждого газопровода перекачка газа возможна только в направлении из станции с номером A[i] на станцию с номером B[i]. Более того, для любых двух станций X и Y верно, что если возможна перекачка газа из X на Y (возможно, через промежуточные станции), то обратная перекачка из Y на X невозможна. Известно, что газ поступает на начальную станцию с номером S и отгружается потребителям на конечной станции с номером F.
>
> Президент потребовал от Правительства указать маршрут (т.е. линейную последовательность попарно соединённых газопроводами станций) перекачки газа из начальной станции на конечную, причём прибыльность этого маршрута должна быть максимальной. Под прибыльностью маршрута понимается суммарная прибыльность входящих в него газопроводов.
>
> К сожалению, Президент не учёл того факта, что многие газопроводы изначальной сети уже давно прекратили существование, в результате чего может оказаться, что перекачка газа из начальной станции на конечную вообще невозможна...

###### Исходные данные:

> Первая строка содержит целые числа N (2 ≤ N ≤ 500) и M (0 ≤ M ≤ 124750). Каждая из следующих M строк содержит целые числа A[i], B[i] (1 ≤ A[i], B[i] ≤ N) и C[i] (1 ≤ C[i] ≤ 10000) для соответствующего газопровода. Последняя строка содержит целые числа S и F (1 ≤ S, F ≤ N; S ≠ F).

###### Результат:

> Если искомый маршрут существует, выведите его прибыльность. Иначе выведите "No solution"

| Исходные данные                                        | Результат |
| ------------------------------------------------------ | --------- |
| `6 7 6 5 10 1 4 11 1 2 4 3 1 5 2 4 5 6 3 1 6 1 3 6 4 ` | `17`      |

###### Интерпретация задачи:

>  Поиск возможного и наиболее прибыльного пути (с наибольшим суммарным весом) в ориентированном графе

###### Описание алгоритма:

>  Создадим массив структур pipe_line, содержащих информацию обо всех путях, затем реализуем алгоритм Дейкстры (создадим массив с индексами, соответсвующими номерам станций для записи результатов работы алгоритма) и выводим результат. Если результата нет, то значит выводим информацию о том, что решения не существует

###### Реализация:

```cpp
#include <iostream>
#include <vector>
using namespace std;

struct pipe_line {
    int a, b, c; // Начало, конец, цена
    pipe_line(int a = 0) { // Конструктор структуры с автоматическим заполнением
        cin >> this->a >> this->b >> this->c;
    }
};

int dejkstramax(vector<pipe_line> &vec, int s, int n, int m, int f) 
{ // Алгоритм дейкстры для максимального значения
    vector<int> res(n+1, -1); //-1 так как отрицательных значений цены по условию нет
    res[s] = 0;
    for (int i = 1; i < n; i++) for (int j = 0; j < m; j++)
        if (res[vec[j].a] != -1 and res[vec[j].b] < res[vec[j].a] + vec[j].c)
            res[vec[j].b] = res[vec[j].a] + vec[j].c;
    return res[f];
}

int main() {
    int n, m, s, f; // Переменные
    cin >> n >> m; // Считываем количество газопроводов и перекачивающих станций
    vector<pipe_line> pipes; // Массив хранения трубопроводов
    for (int i = 0; i < m; i++) pipes.push_back(pipe_line()); // Заполнение массива трубопроводов
    cin >> s >> f; // Номера начальной и конечной перекачивающей станций
    
    res = dejkstramax(pipes, s, n, m, f); // Поиск максимального пути
    (res != -1) ? cout << res : cout << "No solution"; // Вывод результата
    return 0;
}
```

###### Комментарий к программе:

>  Задача сводится к использованию алгоритма Дейкстры на графах, модифицированный под нахождение максимального пути
